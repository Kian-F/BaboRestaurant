{"ast":null,"code":"var _jsxFileName = \"/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/CheckOut.js\";\nimport React, { Component } from 'react';\nimport PaymentForm from './PaymentForm'; // import {Link} from 'react-router-dom';\n\nimport UserForm from './UserForm';\nimport OrderSummary from './OrderSummary';\nimport { Button } from 'semantic-ui-react';\nimport DropdownTime from './DropdownTime';\nimport { withRouter } from 'react-router-dom';\n\nclass CheckOut extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderItems: {},\n      allProducts: [],\n      delivery: false,\n      paymentOption: \"Cash\",\n      totalPrice: 0,\n      time: ''\n    };\n    this._handleClick = this._handleClick.bind(this);\n    this._handleChange = this._handleChange.bind(this);\n    this._handleCardDetails = this._handleCardDetails.bind(this);\n    this.updateTime = this.updateTime.bind(this);\n    this.createOrder = this.createOrder.bind(this);\n  }\n\n  componentDidMount() {\n    //Gets shopping cart from local storage\n    const orderItems = JSON.parse(localStorage.getItem('orderItems')); //Gets delivery status from local storage\n\n    const delivery = JSON.parse(localStorage.getItem('delivery')); //Gets payment option from local storage\n\n    const paymentOption = JSON.parse(localStorage.getItem('paymentOption')); //sets state of all variables\n\n    this.setState({\n      orderItems,\n      delivery,\n      paymentOption\n    });\n  }\n\n  _handleClick(event, state) {\n    const value = state.value;\n    console.log(value); //get value of button and set state\n\n    if (value === \"Pick-up\") {\n      this.setState({\n        delivery: false\n      });\n    } else if (value === \"Delivery\") {\n      this.setState({\n        delivery: true\n      });\n    }\n\n    console.log(this.state.delivery); // //sets delivery state in local storage\n\n    let deliveryStatus = JSON.stringify(this.state.delivery);\n    localStorage.setItem('delivery', deliveryStatus);\n  } //\n\n\n  updateTime(timeOrder) {\n    console.log(timeOrder); // //save stime in state\n\n    this.setState({\n      time: timeOrder\n    }); //save time to local storage\n\n    const time = JSON.stringify(timeOrder);\n    localStorage.setItem('time', time);\n  }\n\n  _handleChange(event) {\n    //sets state of payment type\n    this.setState({\n      paymentOption: event.target.value\n    }); //saves payment type to local storage\n\n    let paymentStatus = JSON.stringify(event.target.value);\n    localStorage.setItem('paymentOption', paymentStatus);\n  }\n\n  _handleCardDetails(event) {\n    event.preventDefault();\n    console.log(\"handling card details\"); // this.setState({ccName: name});\n    // this.setState({ccNumber: number});\n    // this.setState({ccCVV: cvv});\n\n    console.log(event.target.value);\n    this.createOrder();\n  }\n\n  createOrder() {\n    //make order and each line item\n    console.log(\"will make request\"); // redirect to /ordercomplete if all verified\n\n    this.props.history.push('/ordercomplete');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"kind-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Please select:\"), React.createElement(Button, {\n      onClick: this._handleClick,\n      value: \"Pick-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Pick-Up\"), React.createElement(Button, {\n      onClick: this._handleClick,\n      value: \"Delivery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Delivery\")), React.createElement(DropdownTime, {\n      onChange: this.updateTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(UserForm, {\n      deliveryStatus: this.state.delivery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"payment-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Payment option:\"), React.createElement(\"div\", {\n      className: \"cash-option\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"Cash\",\n      checked: this.state.paymentOption === \"Cash\",\n      onChange: this._handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), \"Cash\")), React.createElement(\"div\", {\n      className: \"card-option\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"Card\",\n      checked: this.state.paymentOption === \"Card\",\n      onChange: this._handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), \"Card\"))), this.state.paymentOption === \"Card\" ? React.createElement(PaymentForm, {\n      onClick: this._handleCardDetails,\n      orderItems: this.state.orderItems,\n      totalPrice: this.state.totalPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }) : React.createElement(\"button\", {\n      onClick: this.createOrder,\n      className: \"pay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Pay\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(OrderSummary, {\n      deliveryStatus: this.state.delivery,\n      time: this.state.time,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(CheckOut);","map":{"version":3,"sources":["/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/CheckOut.js"],"names":["React","Component","PaymentForm","UserForm","OrderSummary","Button","DropdownTime","withRouter","CheckOut","constructor","props","state","orderItems","allProducts","delivery","paymentOption","totalPrice","time","_handleClick","bind","_handleChange","_handleCardDetails","updateTime","createOrder","componentDidMount","JSON","parse","localStorage","getItem","setState","event","value","console","log","deliveryStatus","stringify","setItem","timeOrder","target","paymentStatus","preventDefault","history","push","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PaymentForm from './PaymentForm';\n// import {Link} from 'react-router-dom';\nimport UserForm from './UserForm';\nimport OrderSummary from './OrderSummary';\nimport {Button} from 'semantic-ui-react';\nimport DropdownTime from './DropdownTime';\nimport {withRouter} from 'react-router-dom';\n\n\n\nclass CheckOut extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderItems: {},\n      allProducts: [],\n      delivery: false,\n      paymentOption: \"Cash\",\n      totalPrice: 0,\n      time: ''\n    };\n\n    this._handleClick = this._handleClick.bind(this);\n    this._handleChange = this._handleChange.bind(this);\n    this._handleCardDetails = this._handleCardDetails.bind(this);\n    this.updateTime = this.updateTime.bind(this);\n    this.createOrder = this.createOrder.bind(this);\n  }\n\n  componentDidMount() {\n    //Gets shopping cart from local storage\n    const orderItems = JSON.parse(localStorage.getItem('orderItems'));\n    //Gets delivery status from local storage\n    const delivery = JSON.parse(localStorage.getItem('delivery'));\n    //Gets payment option from local storage\n    const paymentOption = JSON.parse(localStorage.getItem('paymentOption'));\n    //sets state of all variables\n    this.setState({ orderItems, delivery, paymentOption });\n  }\n\n  _handleClick(event, state) {\n    const value = state.value;\n    console.log(value);\n    //get value of button and set state\n    if (value === \"Pick-up\"){\n      this.setState({delivery: false});\n    } else if (value === \"Delivery\" ){\n      this.setState({delivery: true});\n    }\n    console.log(this.state.delivery);\n    // //sets delivery state in local storage\n    let deliveryStatus = JSON.stringify(this.state.delivery);\n    localStorage.setItem('delivery', deliveryStatus);\n  }\n  //\n  updateTime(timeOrder) {\n    console.log(timeOrder);\n    // //save stime in state\n    this.setState({time: timeOrder});\n    //save time to local storage\n    const time = JSON.stringify(timeOrder);\n    localStorage.setItem('time', time);\n  }\n\n  _handleChange(event) {\n    //sets state of payment type\n    this.setState({paymentOption: event.target.value})\n    //saves payment type to local storage\n    let paymentStatus = JSON.stringify(event.target.value);\n    localStorage.setItem('paymentOption', paymentStatus);\n  }\n\n  _handleCardDetails(event) {\n    event.preventDefault();\n    console.log(\"handling card details\");\n    // this.setState({ccName: name});\n    // this.setState({ccNumber: number});\n    // this.setState({ccCVV: cvv});\n    console.log(event.target.value);\n    this.createOrder();\n\n  }\n\n  createOrder() {\n    //make order and each line item\n    console.log(\"will make request\");\n    // redirect to /ordercomplete if all verified\n    this.props.history.push('/ordercomplete');\n  }\n\n\n  render() {\n\n    return (\n      <div className=\"main\">\n\n        <div className=\"leftside\">\n\n          <div className=\"kind-order\">\n            <h3>Please select:</h3>\n\n            <Button onClick={this._handleClick} value='Pick-up'>Pick-Up</Button>\n            <Button onClick={this._handleClick} value='Delivery'>Delivery</Button>\n\n          </div>\n\n          <DropdownTime onChange={this.updateTime} />\n\n          <UserForm deliveryStatus={this.state.delivery} />\n\n          <form className=\"payment-form\">\n            <h3>Payment option:</h3>\n            <div className=\"cash-option\">\n              <label>\n                <input type=\"radio\" value=\"Cash\" checked={this.state.paymentOption === \"Cash\"} onChange={this._handleChange}/>\n                Cash\n              </label>\n            </div>\n            <div className=\"card-option\">\n              <label>\n                <input type=\"radio\" value=\"Card\" checked={this.state.paymentOption === \"Card\"} onChange={this._handleChange}/>\n                Card\n              </label>\n            </div>\n          </form>\n\n          {this.state.paymentOption === \"Card\" ? <PaymentForm onClick={this._handleCardDetails} orderItems={this.state.orderItems} totalPrice={this.state.totalPrice} /> : <button onClick={this.createOrder} className=\"pay\">Pay</button>}\n\n        </div>\n\n\n        <div>\n          <OrderSummary deliveryStatus={this.state.delivery} time={this.state.time} />\n        </div>\n\n      </div>\n\n\n    );\n  }\n}\n\n\nexport default withRouter(CheckOut);\n"]},"metadata":{},"sourceType":"module"}