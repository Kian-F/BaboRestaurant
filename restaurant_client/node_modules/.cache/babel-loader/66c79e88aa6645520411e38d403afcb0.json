{"ast":null,"code":"var _jsxFileName = \"/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/SignIn.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n\n    this._handleInputEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this._handleInputPassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this._handleSubmit = event => {\n      event.preventDefault();\n      axios.post('http://localhost:3000/user/token', {\n        \"auth\": {\n          \"email\": this.state.email,\n          \"password\": this.state.password\n        }\n      }).then(result => {\n        localStorage.setItem(\"jwt\", result.data.jwt);\n        console.log(\"user logged in\");\n        this.props.history.push('/'); //where is user taken\n      }).catch(err => {\n        this.setState({\n          errorMessage: 'Invalid email or password'\n        });\n      }); //error logic\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Log In\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      required: true,\n      onInput: this._handleInputEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Password\",\n      required: true,\n      onInput: this._handleInputPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      placeholder: \"Log In\",\n      onClick: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/SignIn.js"],"names":["React","Component","axios","SignIn","constructor","_handleInputEmail","event","setState","email","target","value","_handleInputPassword","password","_handleSubmit","preventDefault","post","state","then","result","localStorage","setItem","data","jwt","console","log","props","history","push","catch","err","errorMessage","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAN,SAAqBF,SAArB,CAA+B;AAC7BG,EAAAA,WAAW,GAAI;AACb;;AADa,SASfC,iBATe,GASKC,KAAK,IAAI;AAC3B,WAAKC,QAAL,CAAe;AAACC,QAAAA,KAAK,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAArB,OAAf;AACD,KAXc;;AAAA,SAafC,oBAbe,GAaQL,KAAK,IAAI;AAC9B,WAAKC,QAAL,CAAe;AAACK,QAAAA,QAAQ,EAAEN,KAAK,CAACG,MAAN,CAAaC;AAAxB,OAAf;AACD,KAfc;;AAAA,SAiBfG,aAjBe,GAiBCP,KAAK,IAAI;AACvBA,MAAAA,KAAK,CAACQ,cAAN;AAEAZ,MAAAA,KAAK,CAACa,IAAN,CAAW,kCAAX,EAA+C;AAC7C,gBAAQ;AACN,mBAAS,KAAKC,KAAL,CAAWR,KADd;AAEN,sBAAY,KAAKQ,KAAL,CAAWJ;AAFjB;AADqC,OAA/C,EAKGK,IALH,CAKSC,MAAM,IAAI;AACjBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BF,MAAM,CAACG,IAAP,CAAYC,GAAxC;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAHiB,CAGY;AAC9B,OATD,EAUCC,KAVD,CAUQC,GAAG,IAAI;AACb,aAAKtB,QAAL,CAAc;AAAEuB,UAAAA,YAAY,EAAE;AAAhB,SAAd;AACD,OAZD,EAHuB,CAepB;AACJ,KAjCc;;AAEb,SAAKd,KAAL,GAAY;AACVR,MAAAA,KAAK,EAAE,EADG;AAEVI,MAAAA,QAAQ,EAAE,EAFA;AAGVkB,MAAAA,YAAY,EAAE;AAHJ,KAAZ;AAKD;;AA6BDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,OAA/B;AAAuC,MAAA,QAAQ,MAA/C;AAAgD,MAAA,OAAO,EAAG,KAAK1B,iBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,EAKE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,UAA/B;AAA0C,MAAA,QAAQ,MAAlD;AAAmD,MAAA,OAAO,EAAG,KAAKM,oBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAOE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,WAAW,EAAC,QAAjC;AAA0C,MAAA,OAAO,EAAE,KAAKE,aAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAFF,CADF;AAcD;;AApD4B;;AAwD/B,eAAeV,MAAf","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n\nclass SignIn extends Component {\n  constructor () {\n    super();\n    this.state ={\n      email: '',\n      password: '',\n      errorMessage: ''\n    }\n  }\n\n  _handleInputEmail = event => {\n    this.setState( {email: event.target.value})\n  }\n\n  _handleInputPassword = event => {\n    this.setState( {password: event.target.value})\n  }\n\n  _handleSubmit = event => {\n    event.preventDefault();\n\n    axios.post('http://localhost:3000/user/token', {\n      \"auth\": {\n        \"email\": this.state.email,\n        \"password\": this.state.password,\n      }\n    }).then( result => {\n      localStorage.setItem(\"jwt\", result.data.jwt)\n      console.log(\"user logged in\")\n      this.props.history.push('/') //where is user taken\n    })\n    .catch( err => {\n      this.setState({ errorMessage: 'Invalid email or password'})\n    }) //error logic\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h2>Log In</h2>\n        <form>\n          <label>Email: </label>\n          <input type=\"text\" placeholder=\"Email\" required onInput={ this._handleInputEmail } />\n\n          <label>Password:</label>\n          <input type=\"text\" placeholder=\"Password\" required onInput={ this._handleInputPassword } />\n\n          <input type=\"submit\" placeholder=\"Log In\" onClick={this._handleSubmit} />\n        </form>\n      </div>\n    );\n  }\n\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}