{"ast":null,"code":"var _jsxFileName = \"/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/Cart.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Cart = props => {\n  const orderItems = props.cart_products;\n  const allProducts = props.products;\n\n  const removeItem = function (id) {\n    orderItems[id] -= 1;\n\n    if (orderItems[id] === 0) {\n      delete orderItems[id];\n    }\n\n    return props.onClick(orderItems);\n  };\n\n  const addItem = function (id) {\n    //checks if item is already there and changes the quantity\n    if (orderItems[id]) {\n      orderItems[id] += 1;\n    } else {\n      orderItems[id] = 1;\n    }\n\n    return props.onClick(orderItems);\n  };\n\n  const submitOrder = orderItems => {\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n  };\n\n  let totalPrice = 0;\n\n  if (Object.entries(orderItems).length > 0) {\n    Object.entries(orderItems).map(([id, quantity]) => {\n      return allProducts.find(p => {\n        if (p.id.toString() === id) {\n          totalPrice += p.price * quantity;\n          return totalPrice;\n        }\n\n        ;\n      });\n    });\n  }\n\n  return allProducts.length > 0 && React.createElement(\"div\", {\n    className: \"orderList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Cart\"), Object.keys(orderItems).length > 0 ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"quantity\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Qty\"), React.createElement(\"label\", {\n    className: \"itemPrice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Total\")), React.createElement(\"div\", {\n    className: \"items-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, Object.entries(orderItems).map(([id, quantity]) => {\n    const item = allProducts.find(p => p.id.toString() === id);\n    return quantity > 0 && React.createElement(\"div\", {\n      className: \"item\",\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, item.name), React.createElement(\"label\", {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"minus\",\n      onClick: () => removeItem(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"-\"), quantity, React.createElement(\"button\", {\n      className: \"plus\",\n      onClick: () => addItem(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"label\", {\n      className: \"itemPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"$\", Number(quantity * item.price).toFixed(2)));\n  })), React.createElement(\"p\", {\n    className: \"totalPrice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Total (exc. delivery): $\", Number(totalPrice).toFixed(2))) : React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Your cart is empty.\"), React.createElement(\"button\", {\n    className: \"checkout-button\",\n    onClick: () => submitOrder(orderItems),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, Object.keys(orderItems).length > 0 ? React.createElement(Link, {\n    to: \"/checkout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Check Out\") : \"Check Out\"));\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/Cart.js"],"names":["React","Link","Cart","props","orderItems","cart_products","allProducts","products","removeItem","id","onClick","addItem","submitOrder","order","JSON","stringify","localStorage","setItem","totalPrice","Object","entries","length","map","quantity","find","p","toString","price","keys","item","name","Number","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\n\n\nconst Cart = (props) => {\n\n  const orderItems = props.cart_products;\n  const allProducts = props.products;\n\n  const removeItem = function(id) {\n    orderItems[id] -= 1;\n    if (orderItems[id] === 0){\n      delete orderItems[id];\n    }\n    return props.onClick(orderItems);\n  }\n\n  const addItem = function(id) {\n    //checks if item is already there and changes the quantity\n    if (orderItems[id]) {\n      orderItems[id] += 1;\n    } else {\n      orderItems[id] = 1;\n    }\n    return props.onClick(orderItems);\n  }\n\n  const submitOrder = (orderItems) => {\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n  }\n\n  let totalPrice = 0;\n  if (Object.entries(orderItems).length > 0) {\n    Object.entries(orderItems).map( ([id, quantity]) => {\n      return allProducts.find( p => {\n        if (p.id.toString() === id) {\n          totalPrice += p.price * quantity;\n          return totalPrice;\n        };\n      })\n    });\n  }\n\n\n  return (\n    allProducts.length > 0 &&\n\n      (<div className='orderList'>\n        <h2>Cart</h2>\n\n        {Object.keys(orderItems).length > 0 ?\n\n          ( <div>\n              <div className=\"title\">\n                <label className=\"quantity\">Qty</label>\n                <label className=\"itemPrice\">Total</label>\n              </div>\n\n              <div className=\"items-list\">\n\n                {Object.entries(orderItems).map( ([id, quantity]) => {\n                const item = allProducts.find( p => p.id.toString() === id);\n                return (quantity > 0 &&\n                  <div className=\"item\" key={id}>\n                    <label className=\"itemName\">\n                    {item.name}\n                    </label>\n\n\n                    <label className=\"quantity\">\n                    <button className=\"minus\" onClick={ () => removeItem(id)}>\n                    -\n                    </button>\n                    {quantity}\n                    <button className=\"plus\" onClick={ () => addItem(id)}>\n                    +\n                    </button>\n                    </label>\n\n\n                    <label className=\"itemPrice\">\n                    ${Number(quantity * item.price).toFixed(2)}\n                    </label>\n                  </div>)\n                })}\n              </div>\n\n              <p className=\"totalPrice\">Total (exc. delivery): ${Number(totalPrice).toFixed(2)}</p>\n\n            </div>\n          )\n          : (<h4>Your cart is empty.</h4>)}\n\n\n      <button className=\"checkout-button\" onClick={() => submitOrder(orderItems)}>\n        {Object.keys(orderItems).length > 0 ? (<Link to=\"/checkout\">Check Out</Link>) : \"Check Out\"}\n      </button>\n    </div>)\n\n    );\n\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}