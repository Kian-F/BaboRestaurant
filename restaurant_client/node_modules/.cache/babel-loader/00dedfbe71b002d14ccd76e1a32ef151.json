{"ast":null,"code":"var _jsxFileName = \"/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/Cart.js\";\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst Cart = props => {\n  //GET PROPS FROM PARENT\n  const orderItems = props.cart_products;\n  const allProducts = props.products;\n  const history = useHistory(); //so we can redirect to checkout page\n  //REMOVE ITEM FROM CART\n\n  const removeItem = function (id) {\n    orderItems[id] -= 1;\n\n    if (orderItems[id] === 0) {\n      delete orderItems[id]; //removes item from cart completely\n    }\n\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n    return props.onClick(orderItems); //SENDS PROP TO PARENT\n  }; //ADD ITEM TO CART\n\n\n  const addItem = function (id) {\n    //checks if item is already there and changes the quantity\n    if (orderItems[id]) {\n      orderItems[id] += 1;\n    } else {\n      orderItems[id] = 1;\n    }\n\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n    return props.onClick(orderItems); //SENDS PROP TO PARENT\n  }; //ADD CART LIST TO LOCALSTORAGE\n\n\n  const submitOrder = orderItems => {\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order); //Redirect to checkout page\n\n    if (Object.keys(orderItems).length > 0) {\n      history.push(\"/checkout\");\n    }\n  };\n\n  let totalPrice = 0;\n  Object.entries(orderItems).map(([id, quantity]) => {\n    allProducts.find(p => {\n      if (p.id.toString() === id) {\n        totalPrice += p.price * quantity;\n      }\n    });\n  });\n  return allProducts.length > 0 && React.createElement(\"div\", {\n    className: \"orderList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Cart\"), Object.keys(orderItems).length > 0 ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"quantity\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Qty\"), React.createElement(\"label\", {\n    className: \"itemPrice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Total\")), React.createElement(\"div\", {\n    className: \"items-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, Object.entries(orderItems).map(([id, quantity]) => {\n    const item = allProducts.find(p => p.id.toString() === id);\n    return quantity > 0 && React.createElement(\"div\", {\n      className: \"item\",\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"itemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, item.name), React.createElement(\"label\", {\n      className: \"quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"minus\",\n      onClick: () => removeItem(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"-\"), quantity, React.createElement(\"button\", {\n      className: \"plus\",\n      onClick: () => addItem(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"label\", {\n      className: \"itemPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"$\", Number(quantity * item.price).toFixed(2)));\n  })), React.createElement(\"p\", {\n    className: \"totalPrice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Total (exc. delivery): $\", Number(totalPrice).toFixed(2))) : React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Your cart is empty.\"), React.createElement(\"button\", {\n    className: \"checkout-button\",\n    onClick: () => submitOrder(orderItems),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Check Out\"));\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/kia/Projects/project2/restaurant/restaurant_client/src/components/Cart.js"],"names":["React","useHistory","Cart","props","orderItems","cart_products","allProducts","products","history","removeItem","id","order","JSON","stringify","localStorage","setItem","onClick","addItem","submitOrder","Object","keys","length","push","totalPrice","entries","map","quantity","find","p","toString","price","item","name","Number","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\n\nconst Cart = (props) => {\n  //GET PROPS FROM PARENT\n  const orderItems = props.cart_products;\n  const allProducts = props.products;\n  const history = useHistory(); //so we can redirect to checkout page\n\n\n  //REMOVE ITEM FROM CART\n  const removeItem = function(id) {\n    orderItems[id] -= 1;\n    if (orderItems[id] === 0){\n      delete orderItems[id]; //removes item from cart completely\n    }\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n    return props.onClick(orderItems);//SENDS PROP TO PARENT\n  }\n\n  //ADD ITEM TO CART\n  const addItem = function(id) {\n    //checks if item is already there and changes the quantity\n    if (orderItems[id]) {\n      orderItems[id] += 1;\n    } else {\n      orderItems[id] = 1;\n    }\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n    return props.onClick(orderItems);//SENDS PROP TO PARENT\n  }\n\n  //ADD CART LIST TO LOCALSTORAGE\n  const submitOrder = (orderItems) => {\n    let order = JSON.stringify(orderItems);\n    localStorage.setItem('orderItems', order);\n    //Redirect to checkout page\n    if (Object.keys(orderItems).length > 0) {\n      history.push(\"/checkout\");\n    }\n  }\n\n\n  let totalPrice = 0;\n  Object.entries(orderItems).map( ([id, quantity]) => {\n    allProducts.find( p => {\n     if (p.id.toString() === id) {\n       totalPrice += p.price * quantity;\n     }\n   })}\n );\n\n\n  return (\n    allProducts.length > 0 &&\n\n      (<div className='orderList'>\n        <h2>Cart</h2>\n\n        {Object.keys(orderItems).length > 0 ?\n\n          ( <div>\n              <div className=\"title\">\n                <label className=\"quantity\">Qty</label>\n                <label className=\"itemPrice\">Total</label>\n              </div>\n\n              <div className=\"items-list\">\n\n                {Object.entries(orderItems).map( ([id, quantity]) => {\n                  const item = allProducts.find( p => p.id.toString() === id);\n                  return (quantity > 0 &&\n                    <div className=\"item\" key={id}>\n                      <label className=\"itemName\">\n                      {item.name}\n                      </label>\n\n                      <label className=\"quantity\">\n                      <button className=\"minus\" onClick={ () => removeItem(id)}>\n                      -\n                      </button>\n                      {quantity}\n                      <button className=\"plus\" onClick={ () => addItem(id)}>\n                      +\n                      </button>\n                      </label>\n\n                      <label className=\"itemPrice\">\n                      ${Number(quantity * item.price).toFixed(2)}\n                      </label>\n                    </div>)\n                })}\n              </div>\n\n              <p className=\"totalPrice\">Total (exc. delivery): ${Number(totalPrice).toFixed(2)}</p>\n\n            </div>\n          )\n          : (<h4>Your cart is empty.</h4>)}\n\n\n      <button className=\"checkout-button\" onClick={() => submitOrder(orderItems)}>\n        Check Out\n      </button>\n    </div>)\n\n    );\n\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}